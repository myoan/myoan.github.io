<?xml version="1.0" encoding="utf-8" standalone="yes"?>
<rss version="2.0" xmlns:atom="http://www.w3.org/2005/Atom" xmlns:content="http://purl.org/rss/1.0/modules/content/">
  <channel>
    <title>Programming on yoan.log</title>
    <link>https://myoan.github.io/tags/programming/</link>
    <description>Recent content in Programming on yoan.log</description>
    <image>
      <title>yoan.log</title>
      <url>https://myoan.github.io/%3Clink%20or%20path%20of%20image%20for%20opengraph,%20twitter-cards%3E</url>
      <link>https://myoan.github.io/%3Clink%20or%20path%20of%20image%20for%20opengraph,%20twitter-cards%3E</link>
    </image>
    <generator>Hugo -- 0.153.1</generator>
    <language>en</language>
    <lastBuildDate>Tue, 12 Jul 2022 02:56:03 +0900</lastBuildDate>
    <atom:link href="https://myoan.github.io/tags/programming/index.xml" rel="self" type="application/rss+xml" />
    <item>
      <title>Ansible</title>
      <link>https://myoan.github.io/posts/ansible/</link>
      <pubDate>Tue, 12 Jul 2022 02:56:03 +0900</pubDate>
      <guid>https://myoan.github.io/posts/ansible/</guid>
      <description>&lt;h1 id=&#34;ansibleの使い方&#34;&gt;ansibleの使い方&lt;/h1&gt;
&lt;h2 id=&#34;install&#34;&gt;install&lt;/h2&gt;
&lt;pre tabindex=&#34;0&#34;&gt;&lt;code&gt;brew install ansible
&lt;/code&gt;&lt;/pre&gt;&lt;h2 id=&#34;接続確認&#34;&gt;接続確認&lt;/h2&gt;
&lt;pre tabindex=&#34;0&#34;&gt;&lt;code&gt;❯ cat hosts
[server]
xxx.xxx.xxx.xxx
&lt;/code&gt;&lt;/pre&gt;&lt;p&gt;実行&lt;/p&gt;
&lt;pre tabindex=&#34;0&#34;&gt;&lt;code&gt;❯ ansible server -i hosts -m ping -u ubuntu
18.183.206.58 | SUCCESS =&amp;gt; {
    &amp;#34;ansible_facts&amp;#34;: {
        &amp;#34;discovered_interpreter_python&amp;#34;: &amp;#34;/usr/bin/python3&amp;#34;
    },
    &amp;#34;changed&amp;#34;: false,
    &amp;#34;ping&amp;#34;: &amp;#34;pong&amp;#34;
}
&lt;/code&gt;&lt;/pre&gt;&lt;h2 id=&#34;playbook適用&#34;&gt;playbook適用&lt;/h2&gt;
&lt;pre tabindex=&#34;0&#34;&gt;&lt;code&gt;❯ cat playbook.yml
---
- name: Update web servers
  hosts: server
  remote_user: ubuntu
  become: true

  tasks:
  - name: Run the equivalent of &amp;#34;apt-get update&amp;#34; as a separate step
    ansible.builtin.apt:
      update_cache: yes
&lt;/code&gt;&lt;/pre&gt;&lt;h3 id=&#34;syntax-check&#34;&gt;syntax-check&lt;/h3&gt;
&lt;pre tabindex=&#34;0&#34;&gt;&lt;code&gt;ansible-playbook playbook.yml --syntax-check
&lt;/code&gt;&lt;/pre&gt;&lt;h3 id=&#34;dryrun&#34;&gt;dryrun&lt;/h3&gt;
&lt;pre tabindex=&#34;0&#34;&gt;&lt;code&gt;ansible-playbook playbook.yml -i hosts -C -D
&lt;/code&gt;&lt;/pre&gt;&lt;h3 id=&#34;適用&#34;&gt;適用&lt;/h3&gt;
&lt;pre tabindex=&#34;0&#34;&gt;&lt;code&gt;ansible-playbook playbook.yml -i hosts
&lt;/code&gt;&lt;/pre&gt;&lt;h2 id=&#34;playbookの探し方&#34;&gt;playbookの探し方&lt;/h2&gt;
&lt;p&gt;&lt;a href=&#34;https://docs.ansible.com/ansible/latest/collections/ansible/builtin/apt_module.html&#34;&gt;https://docs.ansible.com/ansible/latest/collections/ansible/builtin/apt_module.html&lt;/a&gt;&lt;/p&gt;</description>
    </item>
    <item>
      <title>Journalctl の使い方</title>
      <link>https://myoan.github.io/posts/journalctl/</link>
      <pubDate>Sun, 10 Jul 2022 23:53:52 +0900</pubDate>
      <guid>https://myoan.github.io/posts/journalctl/</guid>
      <description>&lt;h3 id=&#34;忙しい人向け&#34;&gt;忙しい人向け&lt;/h3&gt;
&lt;pre tabindex=&#34;0&#34;&gt;&lt;code&gt;journalctl -u mariadb.service -xe
&lt;/code&gt;&lt;/pre&gt;&lt;h3 id=&#34;serviceを指定する&#34;&gt;serviceを指定する&lt;/h3&gt;
&lt;pre tabindex=&#34;0&#34;&gt;&lt;code&gt;journalctl -u mariadb.service
&lt;/code&gt;&lt;/pre&gt;&lt;h3 id=&#34;tailする&#34;&gt;tailする&lt;/h3&gt;
&lt;pre tabindex=&#34;0&#34;&gt;&lt;code&gt;journalctl -e
&lt;/code&gt;&lt;/pre&gt;&lt;h3 id=&#34;tail--f&#34;&gt;tail -f&lt;/h3&gt;
&lt;pre tabindex=&#34;0&#34;&gt;&lt;code&gt;journalctl -f
&lt;/code&gt;&lt;/pre&gt;&lt;h3 id=&#34;詳細情報&#34;&gt;詳細情報&lt;/h3&gt;
&lt;pre tabindex=&#34;0&#34;&gt;&lt;code&gt;journalctl -xe
&lt;/code&gt;&lt;/pre&gt;</description>
    </item>
    <item>
      <title>Multiplayer Game Programming読本</title>
      <link>https://myoan.github.io/posts/geometry-compression/</link>
      <pubDate>Wed, 11 May 2022 10:00:42 +0900</pubDate>
      <guid>https://myoan.github.io/posts/geometry-compression/</guid>
      <description>&lt;p&gt;&lt;a href=&#34;https://www.amazon.co.jp/Multiplayer-Game-Programming-Architecting-Networked-ebook/dp/B0189RXWJQ&#34;&gt;multiplayer game programming&lt;/a&gt;という本を気になる部分だけつまみ食いして読んでいる
今日はChapter 4にあった&amp;quot;Compression&amp;quot;をまとめる
英語の見出しは本文のタイトルを引用し、日本語の見出しは私がみやすさでつけたもの&lt;/p&gt;
&lt;h2 id=&#34;compression&#34;&gt;Compression&lt;/h2&gt;
&lt;p&gt;マルチプレイのリアルタイム性のあるゲームであればあるほど、通信するオブジェクトと頻度が増え必要な通信帯域が増加する
そのため、可能な限り無駄な情報は削減して通信を行う必要がある
この章では低レベルな圧縮方法の紹介を行っている&lt;/p&gt;
&lt;h3 id=&#34;sparse-array-compression&#34;&gt;Sparse Array Compression&lt;/h3&gt;
&lt;p&gt;本で扱っているサンプルゲームでは名前を128byteまで許容されている。
名前の配列に128byteの配列を利用するのがプログラムとしては妥当だが、128byte使い切らないユーザーも含まれるため不要なスペースができてしまう。
そこで、名前長 + 名前というバイト列にする事で余計なスペースを除去するという圧縮方法&lt;/p&gt;
&lt;h3 id=&#34;entropy-encoding&#34;&gt;Entropy Encoding&lt;/h3&gt;
&lt;p&gt;以下の章ではオブジェクトの方向と回転を表す7つのfloatの圧縮方法について記載されている
参考書ではbyte配列を渡す想定をしているが、理解を助けるために下記のような構造体の形式で書いていく&lt;/p&gt;
&lt;pre tabindex=&#34;0&#34;&gt;&lt;code&gt;// 合計 28byte
type XXX struct {
	type Location struct {
		x float
		y float
		z float
	}
	type Quartunion struct {
		qx float 
		qy float
		qz float
		qw float
	}
}
&lt;/code&gt;&lt;/pre&gt;&lt;p&gt;頻出する状態には短いデータを与えましょう。という内容
サンプルゲームではキャラがほとんどY=0のポジションにいる特性を利用してY=0ならば&lt;code&gt;true&lt;/code&gt;, そうでなければ&lt;code&gt;false+float&lt;/code&gt;の情報を送っている&lt;/p&gt;
&lt;pre tabindex=&#34;0&#34;&gt;&lt;code&gt;// 合計 24byte + 1bit
type XXX struct {
	type Location struct {
		x float
		ybit bool
		y float
		z float
	}
	type Quartunion struct {
		qx float 
		qy float
		qz float
		qw float
	}
}
&lt;/code&gt;&lt;/pre&gt;&lt;h2 id=&#34;fixed-point&#34;&gt;Fixed point&lt;/h2&gt;
&lt;p&gt;Locationの他の2軸の圧縮をする
この内容はゲームの特性と相談になるが、整数値にすることでサイズを減らそうというもの
本では縦横に40000(おそらくpx)が表現できれば良いため、int16でよいという内容だった&lt;/p&gt;</description>
    </item>
    <item>
      <title>git restoreってなんだ</title>
      <link>https://myoan.github.io/posts/git-restore/</link>
      <pubDate>Fri, 08 Jan 2021 20:48:37 +0900</pubDate>
      <guid>https://myoan.github.io/posts/git-restore/</guid>
      <description>&lt;p&gt;不適切なファイルを&lt;code&gt;git add&lt;/code&gt;してしまいました&lt;/p&gt;
&lt;pre tabindex=&#34;0&#34;&gt;&lt;code&gt;weblog % git add content/posts/git-restore.md 
weblog % git status                          
On branch main
Your branch is up to date with &amp;#39;origin/main&amp;#39;.

Changes to be committed:
  (use &amp;#34;git restore --staged &amp;lt;file&amp;gt;...&amp;#34; to unstage)
        new file:   content/posts/git-restore.md
&lt;/code&gt;&lt;/pre&gt;&lt;p&gt;こういった場合 &lt;code&gt;git reset &amp;lt;FILE&amp;gt;&lt;/code&gt;を使ってunstagedにしていました&lt;/p&gt;
&lt;p&gt;が、上の例にもあるけど、&lt;code&gt;git restore&lt;/code&gt;を使えというサジェストが出ています
そもそも気がついたときのログにはadd/rmのサジェストも出ています&lt;/p&gt;
&lt;pre tabindex=&#34;0&#34;&gt;&lt;code&gt;Changes not staged for commit:
  (use &amp;#34;git add/rm &amp;lt;file&amp;gt;...&amp;#34; to update what will be committed)
  (use &amp;#34;git restore &amp;lt;file&amp;gt;...&amp;#34; to discard changes in working directory)
&lt;/code&gt;&lt;/pre&gt;&lt;ul&gt;
&lt;li&gt;&lt;code&gt;git add/rm&lt;/code&gt;: commitされた内容を更新する&lt;/li&gt;
&lt;li&gt;&lt;code&gt;git restore&lt;/code&gt;: working directoryの内容を破棄する&lt;/li&gt;
&lt;/ul&gt;
&lt;p&gt;という違いがあるようです
今回のように間違ってaddしてしまった場合は、&lt;code&gt;git restore&lt;/code&gt;の方が正しそうです。
試してみます。&lt;/p&gt;</description>
    </item>
    <item>
      <title>もともとJavaプロジェクトでKotlinをインポートさせたい</title>
      <link>https://myoan.github.io/posts/kotlin-gradle-import/</link>
      <pubDate>Fri, 08 Jan 2021 20:48:37 +0900</pubDate>
      <guid>https://myoan.github.io/posts/kotlin-gradle-import/</guid>
      <description>&lt;h1 id=&#34;やりたいこと&#34;&gt;やりたいこと&lt;/h1&gt;
&lt;p&gt;JavaのプロジェクトにKotlinを入れたい&lt;/p&gt;
&lt;h1 id=&#34;発生した状況&#34;&gt;発生した状況&lt;/h1&gt;
&lt;p&gt;build.gradleの差分&lt;/p&gt;
&lt;div class=&#34;highlight&#34;&gt;&lt;pre tabindex=&#34;0&#34; style=&#34;color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;&#34;&gt;&lt;code class=&#34;language-diff&#34; data-lang=&#34;diff&#34;&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;diff --git a/build.gradle b/build.gradle
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;index xxxxxxxxxx..xxxxxxxx 
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;&lt;span style=&#34;color:#f92672&#34;&gt;--- a/build.gradle
&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;&lt;span style=&#34;color:#a6e22e&#34;&gt;+++ b/build.gradle
&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;&lt;span style=&#34;color:#75715e&#34;&gt;@@ -6,6 +6,7 @@ plugins {
&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;     id &amp;#39;...&amp;#39;
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;     id &amp;#39;...&amp;#39;
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;     id &amp;#39;...&amp;#39;
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;&lt;span style=&#34;color:#a6e22e&#34;&gt;+    id &amp;#39;org.jetbrains.kotlin.jvm&amp;#39; version &amp;#39;1.4.10&amp;#39;
&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt; }
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt; 
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;&lt;span style=&#34;color:#a6e22e&#34;&gt;+
&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;&lt;span style=&#34;color:#a6e22e&#34;&gt;+compileKotlin {
&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;&lt;span style=&#34;color:#a6e22e&#34;&gt;+    kotlinOptions.jvmTarget = &amp;#39;1.8&amp;#39;
&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;&lt;span style=&#34;color:#a6e22e&#34;&gt;+}
&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;p&gt;エラー
(正確にはSuccessを返しているが、buildで失敗する)&lt;/p&gt;
&lt;pre tabindex=&#34;0&#34;&gt;&lt;code&gt;&amp;gt; Task :prepareKotlinBuildScriptModel UP-TO-DATE
&amp;lt;ij_msg_gr&amp;gt;JEE project import errors&amp;lt;ij_msg_gr&amp;gt;&amp;lt;ij_nav&amp;gt;/path/to/project/build.gradle&amp;lt;ij_nav&amp;gt;&amp;lt;i&amp;gt;&amp;lt;b&amp;gt;root project &amp;#39;example&amp;#39;: Web Facets/Artifacts will not be configured properly&amp;lt;/b&amp;gt;&amp;lt;eol&amp;gt;Details: org.gradle.api.internal.artifacts.ivyservice.DefaultLenientConfiguration$ArtifactResolveException: Could not resolve all files for configuration &amp;#39;:runtimeClasspath&amp;#39;.&amp;lt;eol&amp;gt;Caused by: org.gradle.internal.locking.LockOutOfDateException: Resolved &amp;#39;org.jetbrains.kotlin:kotlin-stdlib-jdk8:1.4.10&amp;#39; which is not part of the dependency lock state&amp;lt;/i&amp;gt;
Could not resolve: org.jetbrains.kotlin:kotlin-stdlib-jdk7:1.4.10
Could not resolve: org.jetbrains.kotlin:kotlin-stdlib:1.4.10
Could not resolve: org.jetbrains.kotlin:kotlin-stdlib-jdk8:1.4.10
Could not resolve: org.jetbrains.kotlin:kotlin-stdlib-common:1.4.10
Could not resolve: org.jetbrains:annotations:13.0
KotlinDslScriptsParameter(correlationId=176802187286571, scriptFiles=[]) =&amp;gt; StandardKotlinDslScriptsModel(scripts=[], commonModel=CommonKotlinDslScriptModel(classPath=[], sourcePath=[], implicitImports=[]), dehydratedScriptModels={}) - took 0.0 secs

Deprecated Gradle features were used in this build, making it incompatible with Gradle 7.0.
Use &amp;#39;--warning-mode all&amp;#39; to show the individual deprecation warnings.
See https://docs.gradle.org/6.0.1/userguide/command_line_interface.html#sec:command_line_warnings

BUILD SUCCESSFUL in 1s
&lt;/code&gt;&lt;/pre&gt;&lt;p&gt;エラーの意味がよくわからずドハマリ&amp;hellip;(Facets??, Artifacts??)&lt;/p&gt;</description>
    </item>
  </channel>
</rss>

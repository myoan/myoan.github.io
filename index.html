<!doctype html><html lang=en dir=auto data-theme=auto><head><meta name=generator content="Hugo 0.153.1"><meta charset=utf-8><meta http-equiv=X-UA-Compatible content="IE=edge"><meta name=viewport content="width=device-width,initial-scale=1,shrink-to-fit=no"><meta name=robots content="index, follow"><title>yoan.log</title><meta name=keywords content="Blog,Programming,Game"><meta name=description content="blooooooooooooog"><meta name=author content="motoki yoan"><link rel=canonical href=https://myoan.github.io/><link crossorigin=anonymous href=/assets/css/stylesheet.343cc480b9ffc8f04ccbe5e968ad674880cab773ec19905e93033065c1e7a804.css integrity="sha256-NDzEgLn/yPBMy+XpaK1nSIDKt3PsGZBekwMwZcHnqAQ=" rel="preload stylesheet" as=style><link rel=icon href=https://myoan.github.io/%3Clink%20/static/favicon.ico%3E><link rel=icon type=image/png sizes=16x16 href=https://myoan.github.io/%3Clink%20/%20abs%20url%3E><link rel=icon type=image/png sizes=32x32 href=https://myoan.github.io/%3Clink%20/%20abs%20url%3E><link rel=apple-touch-icon href=https://myoan.github.io/%3Clink%20/%20abs%20url%3E><link rel=mask-icon href=https://myoan.github.io/%3Clink%20/%20abs%20url%3E><meta name=theme-color content="#2e2e33"><meta name=msapplication-TileColor content="#2e2e33"><link rel=alternate type=application/rss+xml href=https://myoan.github.io/index.xml title=rss><link rel=alternate hreflang=en href=https://myoan.github.io/><noscript><style>#theme-toggle,.top-link{display:none}</style><style>@media(prefers-color-scheme:dark){:root{--theme:rgb(29, 30, 32);--entry:rgb(46, 46, 51);--primary:rgb(218, 218, 219);--secondary:rgb(155, 156, 157);--tertiary:rgb(65, 66, 68);--content:rgb(196, 196, 197);--code-block-bg:rgb(46, 46, 51);--code-bg:rgb(55, 56, 62);--border:rgb(51, 51, 51);color-scheme:dark}.list{background:var(--theme)}.toc{background:var(--entry)}}@media(prefers-color-scheme:light){.list::-webkit-scrollbar-thumb{border-color:var(--code-bg)}}</style></noscript><script>localStorage.getItem("pref-theme")==="dark"?document.querySelector("html").dataset.theme="dark":localStorage.getItem("pref-theme")==="light"?document.querySelector("html").dataset.theme="light":window.matchMedia("(prefers-color-scheme: dark)").matches?document.querySelector("html").dataset.theme="dark":document.querySelector("html").dataset.theme="light"</script><meta property="og:url" content="https://myoan.github.io/"><meta property="og:site_name" content="yoan.log"><meta property="og:title" content="yoan.log"><meta property="og:description" content="blooooooooooooog"><meta property="og:locale" content="en"><meta property="og:type" content="website"><meta property="og:image" content="https://myoan.github.io/%3Clink%20or%20path%20of%20image%20for%20opengraph,%20twitter-cards%3E"><meta name=twitter:card content="summary_large_image"><meta name=twitter:image content="https://myoan.github.io/%3Clink%20or%20path%20of%20image%20for%20opengraph,%20twitter-cards%3E"><meta name=twitter:title content="yoan.log"><meta name=twitter:description content="blooooooooooooog"><script type=application/ld+json>{"@context":"https://schema.org","@type":"Organization","name":"yoan.log","url":"https://myoan.github.io/","description":"blooooooooooooog","logo":"https://myoan.github.io/%3Clink%20/static/favicon.ico%3E","sameAs":["https://www.facebook.com/motoki.yoan","https://twitter.com/yoan_mtk","https://github.com/myoan",""]}</script></head><body class=list id=top><header class=header><nav class=nav><div class=logo><a href=https://myoan.github.io/ accesskey=h title="yoan.log (Alt + H)">yoan.log</a><div class=logo-switches><button id=theme-toggle accesskey=t title="(Alt + T)" aria-label="Toggle theme">
<svg id="moon" width="24" height="18" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><path d="M21 12.79A9 9 0 1111.21 3 7 7 0 0021 12.79z"/></svg>
<svg id="sun" width="24" height="18" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><circle cx="12" cy="12" r="5"/><line x1="12" y1="1" x2="12" y2="3"/><line x1="12" y1="21" x2="12" y2="23"/><line x1="4.22" y1="4.22" x2="5.64" y2="5.64"/><line x1="18.36" y1="18.36" x2="19.78" y2="19.78"/><line x1="1" y1="12" x2="3" y2="12"/><line x1="21" y1="12" x2="23" y2="12"/><line x1="4.22" y1="19.78" x2="5.64" y2="18.36"/><line x1="18.36" y1="5.64" x2="19.78" y2="4.22"/></svg></button></div></div><ul id=menu><li><a href=https://myoan.github.io/categories/ title=categories><span>categories</span></a></li><li><a href=https://myoan.github.io/tags/ title=tags><span>tags</span></a></li></ul></nav></header><main class=main><article class="first-entry home-info"><header class=entry-header><h1>yoan.log ğŸ»</h1></header><div class=entry-content>It&rsquo;s the difference between playng not to lose and playing to win.</div><footer class=entry-footer><div class=social-icons><a href=https://www.facebook.com/motoki.yoan target=_blank rel="noopener noreferrer me" title=Facebook><svg viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><path d="M18 2h-3a5 5 0 00-5 5v3H7v4h3v8h4v-8h3l1-4h-4V7a1 1 0 011-1h3z"/></svg>
</a><a href=https://twitter.com/yoan_mtk target=_blank rel="noopener noreferrer me" title=Twitter><svg viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><path d="M23 3a10.9 10.9.0 01-3.14 1.53 4.48 4.48.0 00-7.86 3v1A10.66 10.66.0 013 4s-4 9 5 13a11.64 11.64.0 01-7 2c9 5 20 0 20-11.5a4.5 4.5.0 00-.08-.83A7.72 7.72.0 0023 3z"/></svg>
</a><a href=https://github.com/myoan target=_blank rel="noopener noreferrer me" title=Github><svg viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><path d="M9 19c-5 1.5-5-2.5-7-3m14 6v-3.87a3.37 3.37.0 00-.94-2.61c3.14-.35 6.44-1.54 6.44-7A5.44 5.44.0 0020 4.77 5.07 5.07.0 0019.91 1S18.73.65 16 2.48a13.38 13.38.0 00-7 0C6.27.65 5.09 1 5.09 1A5.07 5.07.0 005 4.77 5.44 5.44.0 003.5 8.55c0 5.42 3.3 6.61 6.44 7A3.37 3.37.0 009 18.13V22"/></svg>
</a><a href target=_blank rel="noopener noreferrer me" title=Rss><svg viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><path d="M4 11a9 9 0 019 9"/><path d="M4 4a16 16 0 0116 16"/><circle cx="5" cy="19" r="1"/></svg></a></div></footer></article><article class=post-entry><header class=entry-header><h2 class=entry-hint-parent>Git Submoduleç³»æ“ä½œã¾ã¨ã‚</h2></header><div class=entry-content><p>git submoduleã®ã‚³ãƒãƒ³ãƒ‰ã‚’ã‚ˆãèª¿ã¹ã‚‹ã®ã§ã¾ã¨ã‚ã¦ã—ã¾ã†
https://git-scm.com/book/ja/v2/Git-%E3%81%AE%E3%81%95%E3%81%BE%E3%81%96%E3%81%BE%E3%81%AA%E3%83%84%E3%83%BC%E3%83%AB-%E3%82%B5%E3%83%96%E3%83%A2%E3%82%B8%E3%83%A5%E3%83%BC%E3%83%AB
ã‚’å‚è€ƒã«ã—ã¦ã„ã¾ã™
1. åˆæœŸåŒ–ã™ã‚‹ git submodule init 2. æ›´æ–°ã™ã‚‹ git submodule update 1, 2ã‚’åˆã‚ã›ã¦
git submodule update --init 3. diffãŒæ„å‘³ä¸æ˜ yoan $ git diff diff --git a/submodule b/submodule index aaaaaaaaaa..bbbbbbbb 160000 --- a/submodule +++ b/submodule @@ -1 +1 @@ -Subproject commit aaaaaaa... +Subproject commit bbbbbbb... diffå·®åˆ†ãŒã‚ˆãã‚ã‹ã‚‰ãªã„ã¨ãã¯--submoduleã‚ªãƒ—ã‚·ãƒ§ãƒ³ã‚’è¿½åŠ ã™ã‚‹
yoan $ git diff --submodule Submodule /submodule aaaaaaaaaaa..bbbbbbbbbbb (rewind): &lt; Merge pull request #2 from hogehoge defaultã§æœ‰åŠ¹åŒ–ã‚‚ã§ãã‚‹
yoan $ git config --global diff.submodule log 4. é–“é•ã£ãŸcommitã«ãªã£ã¦ã—ã¾ã† ã“ã®è¨˜äº‹ã‚’æ›¸ã“ã†ã¨æ€ã£ãŸæœ¬å‘½ã€‚ 3ã®ä¾‹ã§diffã«(rewind)ãŒå‡ºã¦ã„ã‚‹ (rewindã¯å·»ãæˆ»ã‚Šã¨ã„ã†æ„å‘³) å®Ÿéš›ã€originã§ã¯aaaaaaaaaaaãŒæœ€æ–°ãªã®ã«ãªãœã‹localã§ã¯ä¸€ã¤å‰ã®bbbbbbbbbbã«å¤‰ãˆã‚ˆã†ã¨ã—ã¦ã„ã‚‹ ã“ã®çŠ¶æ…‹ãŒä½•æ•…èµ·ã“ã£ãŸã®ã‹ã¯ã‚ˆãã‚ã‹ã‚‰ãªã„ãŒsubmodule updateã‚’ã—ã¦ã‚‚ç„¡é§„ã ã£ãŸ
...</p></div><footer class=entry-footer><span title='2023-03-23 19:43:32 +0900 +0900'>March 23, 2023</span>&nbsp;Â·&nbsp;<span>1 min</span>&nbsp;Â·&nbsp;<span>motoki yoan</span></footer><a class=entry-link aria-label="post link to Git Submoduleç³»æ“ä½œã¾ã¨ã‚" href=https://myoan.github.io/posts/git-submodule-update/></a></article><article class=post-entry><header class=entry-header><h2 class=entry-hint-parent>Ansible</h2></header><div class=entry-content><p>ansibleã®ä½¿ã„æ–¹ install brew install ansible æ¥ç¶šç¢ºèª â¯ cat hosts [server] xxx.xxx.xxx.xxx å®Ÿè¡Œ
â¯ ansible server -i hosts -m ping -u ubuntu 18.183.206.58 | SUCCESS => { "ansible_facts": { "discovered_interpreter_python": "/usr/bin/python3" }, "changed": false, "ping": "pong" } playbooké©ç”¨ â¯ cat playbook.yml --- - name: Update web servers hosts: server remote_user: ubuntu become: true tasks: - name: Run the equivalent of "apt-get update" as a separate step ansible.builtin.apt: update_cache: yes syntax-check ansible-playbook playbook.yml --syntax-check dryrun ansible-playbook playbook.yml -i hosts -C -D é©ç”¨ ansible-playbook playbook.yml -i hosts playbookã®æ¢ã—æ–¹ https://docs.ansible.com/ansible/latest/collections/ansible/builtin/apt_module.html
...</p></div><footer class=entry-footer><span title='2022-07-12 02:56:03 +0900 +0900'>July 12, 2022</span>&nbsp;Â·&nbsp;<span>1 min</span>&nbsp;Â·&nbsp;<span>motoki yoan</span></footer><a class=entry-link aria-label="post link to Ansible" href=https://myoan.github.io/posts/ansible/></a></article><article class=post-entry><header class=entry-header><h2 class=entry-hint-parent>Journalctl ã®ä½¿ã„æ–¹</h2></header><div class=entry-content><p>å¿™ã—ã„äººå‘ã‘ journalctl -u mariadb.service -xe serviceã‚’æŒ‡å®šã™ã‚‹ journalctl -u mariadb.service tailã™ã‚‹ journalctl -e tail -f journalctl -f è©³ç´°æƒ…å ± journalctl -xe</p></div><footer class=entry-footer><span title='2022-07-10 23:53:52 +0900 +0900'>July 10, 2022</span>&nbsp;Â·&nbsp;<span>1 min</span>&nbsp;Â·&nbsp;<span>motoki yoan</span></footer><a class=entry-link aria-label="post link to Journalctl ã®ä½¿ã„æ–¹" href=https://myoan.github.io/posts/journalctl/></a></article><article class=post-entry><header class=entry-header><h2 class=entry-hint-parent>Multiplayer Game Programmingèª­æœ¬</h2></header><div class=entry-content><p>multiplayer game programmingã¨ã„ã†æœ¬ã‚’æ°—ã«ãªã‚‹éƒ¨åˆ†ã ã‘ã¤ã¾ã¿é£Ÿã„ã—ã¦èª­ã‚“ã§ã„ã‚‹ ä»Šæ—¥ã¯Chapter 4ã«ã‚ã£ãŸ"Compression"ã‚’ã¾ã¨ã‚ã‚‹ è‹±èªã®è¦‹å‡ºã—ã¯æœ¬æ–‡ã®ã‚¿ã‚¤ãƒˆãƒ«ã‚’å¼•ç”¨ã—ã€æ—¥æœ¬èªã®è¦‹å‡ºã—ã¯ç§ãŒã¿ã‚„ã™ã•ã§ã¤ã‘ãŸã‚‚ã®
Compression ãƒãƒ«ãƒãƒ—ãƒ¬ã‚¤ã®ãƒªã‚¢ãƒ«ã‚¿ã‚¤ãƒ æ€§ã®ã‚ã‚‹ã‚²ãƒ¼ãƒ ã§ã‚ã‚Œã°ã‚ã‚‹ã»ã©ã€é€šä¿¡ã™ã‚‹ã‚ªãƒ–ã‚¸ã‚§ã‚¯ãƒˆã¨é »åº¦ãŒå¢—ãˆå¿…è¦ãªé€šä¿¡å¸¯åŸŸãŒå¢—åŠ ã™ã‚‹ ãã®ãŸã‚ã€å¯èƒ½ãªé™ã‚Šç„¡é§„ãªæƒ…å ±ã¯å‰Šæ¸›ã—ã¦é€šä¿¡ã‚’è¡Œã†å¿…è¦ãŒã‚ã‚‹ ã“ã®ç« ã§ã¯ä½ãƒ¬ãƒ™ãƒ«ãªåœ§ç¸®æ–¹æ³•ã®ç´¹ä»‹ã‚’è¡Œã£ã¦ã„ã‚‹
Sparse Array Compression æœ¬ã§æ‰±ã£ã¦ã„ã‚‹ã‚µãƒ³ãƒ—ãƒ«ã‚²ãƒ¼ãƒ ã§ã¯åå‰ã‚’128byteã¾ã§è¨±å®¹ã•ã‚Œã¦ã„ã‚‹ã€‚ åå‰ã®é…åˆ—ã«128byteã®é…åˆ—ã‚’åˆ©ç”¨ã™ã‚‹ã®ãŒãƒ—ãƒ­ã‚°ãƒ©ãƒ ã¨ã—ã¦ã¯å¦¥å½“ã ãŒã€128byteä½¿ã„åˆ‡ã‚‰ãªã„ãƒ¦ãƒ¼ã‚¶ãƒ¼ã‚‚å«ã¾ã‚Œã‚‹ãŸã‚ä¸è¦ãªã‚¹ãƒšãƒ¼ã‚¹ãŒã§ãã¦ã—ã¾ã†ã€‚ ãã“ã§ã€åå‰é•· + åå‰ã¨ã„ã†ãƒã‚¤ãƒˆåˆ—ã«ã™ã‚‹äº‹ã§ä½™è¨ˆãªã‚¹ãƒšãƒ¼ã‚¹ã‚’é™¤å»ã™ã‚‹ã¨ã„ã†åœ§ç¸®æ–¹æ³•
Entropy Encoding ä»¥ä¸‹ã®ç« ã§ã¯ã‚ªãƒ–ã‚¸ã‚§ã‚¯ãƒˆã®æ–¹å‘ã¨å›è»¢ã‚’è¡¨ã™7ã¤ã®floatã®åœ§ç¸®æ–¹æ³•ã«ã¤ã„ã¦è¨˜è¼‰ã•ã‚Œã¦ã„ã‚‹ å‚è€ƒæ›¸ã§ã¯byteé…åˆ—ã‚’æ¸¡ã™æƒ³å®šã‚’ã—ã¦ã„ã‚‹ãŒã€ç†è§£ã‚’åŠ©ã‘ã‚‹ãŸã‚ã«ä¸‹è¨˜ã®ã‚ˆã†ãªæ§‹é€ ä½“ã®å½¢å¼ã§æ›¸ã„ã¦ã„ã
// åˆè¨ˆ 28byte type XXX struct { type Location struct { x float y float z float } type Quartunion struct { qx float qy float qz float qw float } } é »å‡ºã™ã‚‹çŠ¶æ…‹ã«ã¯çŸ­ã„ãƒ‡ãƒ¼ã‚¿ã‚’ä¸ãˆã¾ã—ã‚‡ã†ã€‚ã¨ã„ã†å†…å®¹ ã‚µãƒ³ãƒ—ãƒ«ã‚²ãƒ¼ãƒ ã§ã¯ã‚­ãƒ£ãƒ©ãŒã»ã¨ã‚“ã©Y=0ã®ãƒã‚¸ã‚·ãƒ§ãƒ³ã«ã„ã‚‹ç‰¹æ€§ã‚’åˆ©ç”¨ã—ã¦Y=0ãªã‚‰ã°true, ãã†ã§ãªã‘ã‚Œã°false+floatã®æƒ…å ±ã‚’é€ã£ã¦ã„ã‚‹
// åˆè¨ˆ 24byte + 1bit type XXX struct { type Location struct { x float ybit bool y float z float } type Quartunion struct { qx float qy float qz float qw float } } Fixed point Locationã®ä»–ã®2è»¸ã®åœ§ç¸®ã‚’ã™ã‚‹ ã“ã®å†…å®¹ã¯ã‚²ãƒ¼ãƒ ã®ç‰¹æ€§ã¨ç›¸è«‡ã«ãªã‚‹ãŒã€æ•´æ•°å€¤ã«ã™ã‚‹ã“ã¨ã§ã‚µã‚¤ã‚ºã‚’æ¸›ã‚‰ãã†ã¨ã„ã†ã‚‚ã® æœ¬ã§ã¯ç¸¦æ¨ªã«40000(ãŠãã‚‰ãpx)ãŒè¡¨ç¾ã§ãã‚Œã°è‰¯ã„ãŸã‚ã€int16ã§ã‚ˆã„ã¨ã„ã†å†…å®¹ã ã£ãŸ
...</p></div><footer class=entry-footer><span title='2022-05-11 10:00:42 +0900 +0900'>May 11, 2022</span>&nbsp;Â·&nbsp;<span>2 min</span>&nbsp;Â·&nbsp;<span>motoki yoan</span></footer><a class=entry-link aria-label="post link to Multiplayer Game Programmingèª­æœ¬" href=https://myoan.github.io/posts/geometry-compression/></a></article><article class=post-entry><header class=entry-header><h2 class=entry-hint-parent>GKEã‹ã‚‰ã®GCPã¸ã®èªè¨¼ã‚’ã¾ã¨ã‚ã‚‹</h2></header><div class=entry-content><p>GKE clusterä½œæˆæ™‚ã«ã‚‚æŒ‡å®šã§ãã‚‹ã‚¢ã‚¯ã‚»ã‚¹ã‚¹ã‚³ãƒ¼ãƒ—ã¯ãƒ¬ã‚¬ã‚·ãƒ¼æ‰±ã„ã«ãªã£ã¦ã„ã‚‹ https://cloud.google.com/kubernetes-engine/docs/how-to/access-scopes#what_are_access_scopes
ã¨ã¯ã„ãˆãƒãƒ¥ãƒ¼ãƒˆãƒªã‚¢ãƒ«ã«ã¯--scopeã‚’åˆ©ç”¨ã—ãŸã‚‚ã®ã‚‚è¦‹å—ã‘ã‚‰ã‚Œã‚‹
https://agones.dev/site/docs/installation/creating-cluster/gke/ ã‚¢ã‚¯ã‚»ã‚¹ã‚¹ã‚³ãƒ¼ãƒ—ã¯æ‰‹è»½ã ãŒç´°ã‹ã„è¨­å®šãŒã§ããªã„ã€‚ServiceAccountã‚’ä½¿ã†ã¨å¿…è¦æœ€ä½é™ã®æ¨©é™ã®ã¿ä»˜ä¸ã™ã‚‹äº‹ãŒã§ãã‚‹ã®ã§ã€ã‚»ã‚­ãƒ¥ãƒªãƒ†ã‚£ã®å“è³ªãŒä¿ãŸã‚Œã‚‹ãŸã‚Googleã¨ã—ã¦ã¯ServiceAccountã‚’æ¨ã—ã¦ã„ã‚‹ã€‚ã¨ã„ã†èªè­˜ã§ã„ã„ã®ã‹ãª.
GKEã®æ¨©é™é–¢ä¿‚ã§è¿·ã‚ãªã„ã‚ˆã†ã€ã‚µãƒ¼ãƒ“ã‚¹ ã‚¢ã‚«ã‚¦ãƒ³ãƒˆã‚’ä½¿ç”¨ã—ãŸ Google Cloud ã¸ã®èªè¨¼ã‚’é¡Œæã«ã‚„ã‚Šæ–¹ã‚’æ•´ç†ã™ã‚‹
ã‚¢ã‚¯ã‚»ã‚¹ã‚¹ã‚³ãƒ¼ãƒ—ã‚’ç”¨ã„ãŸèªè¨¼ ServiceAccountã‚’ç”¨ã„ãŸèªè¨¼ (ãŠã¾ã‘) ServiceAccountèªè¨¼ã«Workload Identityã‚’ç”¨ã„ã‚‹ äº‹å‰æº–å‚™ é¡Œæã«å‰‡ã‚Špubsub topicã‚’ä½œæˆã—ã€publishã¨subscribeãŒã§ãã‚‹ã‹æ¤œè¨¼ã™ã‚‹
pubsub topicã®ä½œæˆ gcloud pubsub topics create echo gcloud pubsub subscriptions create echo-read --topic=echo ã‚½ãƒ¼ã‚¹ã‚³ãƒ¼ãƒ‰å–å¾— git clone https://github.com/GoogleCloudPlatform/kubernetes-engine-samples cd kubernetes-engine-samples cloud-pubsub/deploymentä»¥ä¸‹ã®yamlãƒ•ã‚¡ã‚¤ãƒ«ã‚’å®Ÿéš›ã«é©å¿œã—ã¦ã„ã
1. ã‚¢ã‚¯ã‚»ã‚¹ã‚¹ã‚³ãƒ¼ãƒ—ã‚’ç”¨ã„ãŸèªè¨¼ ã‚¯ãƒ©ã‚¹ã‚¿ä½œæˆ
gcloud container clusters create pubsub-test --scopes=gke-default,https://www.googleapis.com/auth/pubsub --zone asia-northeast1-a scope ã‚ªãƒ—ã‚·ãƒ§ãƒ³ã«ã¤ã„ã¦ --scopesã‚ªãƒ—ã‚·ãƒ§ãƒ³ã‚’ã¤ã‘ã‚‹ã“ã¨ã§ã‚¯ãƒ©ã‚¹ã‚¿ã«æ¨©é™ã‚’ä»˜ä¸ã§ãã‚‹ gke-defaultã¯ä¸‹è¨˜ã®scopeã‚’ã¾ã¨ã‚ãŸã‚¨ã‚¤ãƒªã‚¢ã‚¹ã«ãªã‚‹
Alias URI gke-default https://www.googleapis.com/auth/devstorage.read_only https://www.googleapis.com/auth/logging.write https://www.googleapis.com/auth/monitoring https://www.googleapis.com/auth/service.management.readonly https://www.googleapis.com/auth/servicecontrol https://www.googleapis.com/auth/trace.append gcloud container clusters create --helpã‚’ã™ã‚‹ã¨ä»–ã®ã‚¨ã‚¤ãƒªã‚¢ã‚¹ã‚‚ã‚ã‚‹ã®ã§ã¿ã¦ã¿ã‚‹ã¨è‰¯ã„ (webã®manã«ã‚‚è¼‰ã£ã¦ã„ã‚‹)
ã¾ãŸè¤‡æ•°æŒ‡å®šã—ãŸã„ã®ã§ã‚«ãƒ³ãƒåŒºåˆ‡ã‚Šã§æŒ‡å®šã—ã¦ã„ã‚‹ scopeã®ä¸€è¦§ã‹ã‚‰é¸ã‚“ã§ä»˜ä¸ã—ã¦ã„ã.
(æ¨©é™ã‚’è¿½åŠ ã™ã‚‹) å¾Œã‹ã‚‰æ¨©é™ã‚’è¿½åŠ ã—ãŸããªã‚‹ã‚±ãƒ¼ã‚¹ã¯ã©ã†ã™ã‚‹ã‹? scopeã‚’å¤‰ãˆãŸã„ãªã‚‰ã°ã€node-poolsã‚’ä½œã‚Šå¤‰ãˆã‚‹äº‹ã—ã‹ã§ããªã„
# æ–°è¦ä½œæˆ gcloud container node-pools create new-pools --cluster pubsub-test --scopes=gke-default,https://www.googleapis.com/auth/pubsub,https://www.googleapis.com/auth/something # å¤ã„nodeã‚’å‰Šé™¤ gcloud container node-pools delete old-pools --cluster pubsub-test ãƒ‡ãƒ—ãƒ­ã‚¤ kubectl apply -f cloud-pubsub/deployment/pubsub.yaml kubectl get po NAME READY STATUS RESTARTS AGE pubsub-8cb8475c8-tvxwv 1/1 Running 0 95s ç¢ºèª Publish gcloud pubsub topics publish echo --message="Hello, world\!" messageIds: - '3909513331830980' Subscribe kubectl logs -f pubsub-8cb8475c8-tvxwv Pulling messages from Pub/Sub subscription... [2022-03-21 06:37:27.265195] Received message: ID=3909513331830980 Data=b'Hello, world!' [2022-03-21 06:37:27.265294] Processing: 3909513331830980 [2022-03-21 06:37:30.267957] Processed: 3909513331830980 2. ServiceAccountã‚’ç”¨ã„ãŸèªè¨¼ GoogleãŒæ¨å¥¨ã—ã¦ã„ã‚‹ã®ã¯ã“ã¡ã‚‰ ã‚µãƒ¼ãƒ“ã‚¹ ã‚¢ã‚«ã‚¦ãƒ³ãƒˆã‚’ä½¿ç”¨ã—ãŸ Google Cloud ã¸ã®èªè¨¼ã¨åŒã˜äº‹ã‚’ã—ã¦ã„ã‚‹ã ã‘ãªã®ã§èª¬æ˜ã¯çœã
...</p></div><footer class=entry-footer><span title='2022-03-21 11:19:25 +0900 +0900'>March 21, 2022</span>&nbsp;Â·&nbsp;<span>3 min</span>&nbsp;Â·&nbsp;<span>motoki yoan</span></footer><a class=entry-link aria-label="post link to GKEã‹ã‚‰ã®GCPã¸ã®èªè¨¼ã‚’ã¾ã¨ã‚ã‚‹" href=https://myoan.github.io/posts/gke-gcp-auth/></a></article><article class=post-entry><header class=entry-header><h2 class=entry-hint-parent>coreutilsã®ã‚½ãƒ¼ã‚¹ã‚³ãƒ¼ãƒ‰ã‚’DLã™ã‚‹æ–¹æ³•</h2></header><div class=entry-content><p>aspã®install $ sudo pacman asp aspã®ç°¡å˜ãªä½¿ã„æ–¹ # packageã®ä¸€è¦§ $ asp list-all # packageã®å–å¾— $ asp checkout coreutils coreutilsã®ãƒ€ã‚¦ãƒ³ãƒ­ãƒ¼ãƒ‰ $ asp checokut coreutils $ cd coreutils $ makepkg -o # buildã¯ã›ãšDLã ã‘ã™ã‚‹ã‚ªãƒ—ã‚·ãƒ§ãƒ³ è©°ã¾ã£ãŸã¨ã“ã‚ GPGã‚­ãƒ¼ãŒverifiyã•ã‚Œãªã„ makepkgã®å®Ÿè¡Œä¸­ã§ä¸‹è¨˜ã®ã‚ˆã†ãªã‚¨ãƒ©ãƒ¼ãŒç™ºç”Ÿã—ãŸ
-> Found 01-fix-fs72253.patch ==> Validating source files with sha256sums... coreutils-9.0.tar.xz ... Passed coreutils-9.0.tar.xz.sig ... Skipped 01-fix-fs72253.patch ... Passed ==> Verifying source file signatures with gpg... coreutils-9.0.tar.xz ... FAILED (unknown public key DF6FD971306037D9) ==> ERROR: One or more PGP signatures could not be verified! GNUã®ãƒšãƒ¼ã‚¸ã«æ›¸ã„ã¦ã‚ã‚‹ã‚³ãƒãƒ³ãƒ‰ã‚’å®Ÿè¡Œã™ã‚‹
...</p></div><footer class=entry-footer><span title='2021-12-11 18:04:58 +0900 +0900'>December 11, 2021</span>&nbsp;Â·&nbsp;<span>1 min</span>&nbsp;Â·&nbsp;<span>motoki yoan</span></footer><a class=entry-link aria-label="post link to coreutilsã®ã‚½ãƒ¼ã‚¹ã‚³ãƒ¼ãƒ‰ã‚’DLã™ã‚‹æ–¹æ³•" href=https://myoan.github.io/posts/read-coreutils/></a></article><article class=post-entry><header class=entry-header><h2 class=entry-hint-parent>Kotest Listener</h2></header><div class=entry-content><p>kotest kotlinã§ãƒ†ã‚¹ãƒˆFWã‚’å¢—ã‚„ã—ã¦ã„ã‚‹
Listenerã®ç¢ºèª TestListener
beforeAnyã¨beforeTest, afterAnyã¨afterTestã¯åŒã˜ã‚‰ã—ã„ã®ã§ä¸€ã¤ã«ã¾ã¨ã‚ã¾ã™
import io.kotest.core.spec.style.DescribeSpec import io.kotest.matchers.shouldBe class ListenerSpec: DescribeSpec({ describe("listener hook check") { beforeContainer { println("beforeContainer") } afterContainer { println("afterContainer") } beforeEach { println("beforeEach") } afterEach { println("afterEach") } beforeTest { println("beforeAny/beforeTest") } afterTest { println("afterAny/afterTest") } beforeSpec { println("beforeSpec") } afterSpec { println("afterSpec") } context("Simple") { it("Simple test") { println("--- Simple test") 1 shouldBe 1 } } } }) beforeContainer beforeAny/beforeTest beforeEach beforeAny/beforeTest --- Simple test afterEach afterAny/afterTest afterContainer afterAny/afterTest afterSpec before, afterã¨ã‚‚ã«Container > Any/Test, Each > Any/Testã®æµã‚Œã«ãªã£ã¦ã„ã‚‹ beforeã¨afterã§stackã®æ§˜ã«ã‚³ãƒ¼ãƒ«ã•ã‚Œã‚‹ã‚ã‘ã§ã¯ãªã„ beforeSpecãŒå‘¼ã³å‡ºã•ã‚Œãªã„ è©³ç´°ã‚’èª¿ã¹ã‚‹ class ListenerSpec: DescribeSpec({ // ... describe("listener hook check") { describe("Describe") { it("Simple test") { println("--- Simple test") 1 shouldBe 1 } } } }) beforeContainer beforeAny/beforeTest beforeEach beforeAny/beforeTest --- Simple test afterEach afterAny/afterTest afterContainer afterAny/afterTest afterSpec Listeneré †åºã«ãŠã„ã¦ã€describeã¨contextã®å·®ç•°ã¯è¦‹ã‚‰ã‚Œãªã„ class ListenerSpec: DescribeSpec({ describe("listener hook check") { describe("Describe") { it("List 1 test") { println("--- List-1 test") 1 shouldBe 1 } it("List 2 test") { println("--- List-2 test") 1 shouldBe 1 } } } }) beforeContainer beforeAny/beforeTest beforeEach beforeAny/beforeTest --- List-1 test afterEach afterAny/afterTest beforeEach beforeAny/beforeTest --- List-2 test afterEach afterAny/afterTest afterContainer afterAny/afterTest afterSpec ContainerãŒæ¶ˆãˆãŸ class ListenerSpec: DescribeSpec({ // ... describe("listener hook check") { describe("Describe") { context("Context") { it("Simple test") { println("--- Simple test") 1 shouldBe 1 } } } } }) beforeContainer beforeAny beforeTest beforeContainer beforeAny beforeTest beforeEach beforeAny beforeTest --- Simple test afterEach afterAny afterTest afterContainer afterAny afterTest afterContainer afterAny afterTest afterSpec nestã™ã‚‹ã¨container, any, testãŒè¿½åŠ ã•ã‚Œã‚‹ class ListenerSpec: DescribeSpec({ describe("listener hook check") { describe("Describe") { describe("Describe") { it("Simple test") { println("--- Simple test") 1 shouldBe 1 } } } } }) beforeContainer beforeAny beforeTest beforeContainer beforeAny beforeTest beforeEach beforeAny beforeTest --- Simple test afterEach afterAny afterTest afterContainer afterAny afterTest afterContainer afterAny afterTest afterSpec</p></div><footer class=entry-footer><span title='2021-06-04 12:09:52 +0900 +0900'>June 4, 2021</span>&nbsp;Â·&nbsp;<span>2 min</span>&nbsp;Â·&nbsp;<span>motoki yoan</span></footer><a class=entry-link aria-label="post link to Kotest Listener" href=https://myoan.github.io/posts/kotest-listener/></a></article><article class=post-entry><header class=entry-header><h2 class=entry-hint-parent>vscode extensionã®TreeViewã‚’è§¦ã£ã¦ã¿ã‚‹</h2></header><div class=entry-content><p>ãƒãƒ¥ãƒ¼ãƒˆãƒªã‚¢ãƒ«ã‚’è¡Œã† https://code.visualstudio.com/api/extension-guides/tree-view
ãƒãƒ¥ãƒ¼ãƒˆãƒªã‚¢ãƒ«ã§ã¯ã‚µã‚¤ãƒ‰ãƒãƒ¼ã«node dependenciesã‚’è¡¨ç¤ºã—ã€å„packageã®package.jsonã‚’è¡¨ç¤ºã™ã‚‹ã‚µãƒ³ãƒ—ãƒ«ã‚’ä½œã£ã¦ã„ã‚‹ã€‚ ã—ã‹ã—ãƒãƒ¥ãƒ¼ãƒˆãƒªã‚¢ãƒ«ã‚’ãã®ã¾ã¾è©¦ã—ã¦ã‚‚Editorã«package.jsonã®å†…å®¹ãŒè¡¨ç¤ºã•ã‚Œãªã‹ã£ãŸã€‚
ãã®ç†ç”±ãŒçŸ¥ã‚ŠãŸãã¦è‰²ã€…ã¨èª¿æŸ»ã—ãŸ
çµæœã¨ã—ã¦ã€githubã®ã‚µãƒ³ãƒ—ãƒ«ã‚’å®Ÿè¡Œã™ã‚‹ã¨ã‚ã‹ã‚‹ãŒã€ã‚¯ãƒªãƒƒã‚¯æ™‚ã«ç™ºç«ã™ã‚‹ã‚³ãƒãƒ³ãƒ‰ã‚’æŒ‡å®šã—ãªã„ã¨è¡Œã‘ãªã‹ã£ãŸ
ã‚³ãƒãƒ³ãƒ‰ç™ºç«ã®ã‚³ãƒ¼ãƒ‰ãƒªãƒ¼ãƒ‡ã‚£ãƒ³ã‚° TreeViewã‚’ã¿ã‚‹ã¨ã€ãƒãƒ¥ãƒ¼ãƒˆãƒªã‚¢ãƒ«ã«åŠ ãˆã¦vscode.Commandã‚’ä»˜ä¸ã—ã¦ã„ã‚‹
return new Dependency(moduleName, version, vscode.TreeItemCollapsibleState.None, { command: 'extension.openPackageOnNpm', title: '', arguments: [moduleName] }); ä½µã›ã¦openPackageOnNpmã®ç™»éŒ²ã‚‚ãƒãƒ¥ãƒ¼ãƒˆãƒªã‚¢ãƒ«ã‹ã‚‰è¿½åŠ ã•ã‚Œã¦ã„ã‚‹
vscode.commands.registerCommand('extension.openPackageOnNpm', moduleName => vscode.commands.executeCommand('vscode.open', vscode.Uri.parse(`https://www.npmjs.com/package/${moduleName}`))); å®Ÿéš›ã€ã“ã‚Œã‚‰ã‚’å®Ÿè£…ã™ã‚‹ã¨ã‚¯ãƒªãƒƒã‚¯ã—ãŸã‚‰NPMã®webpageã«é£›ã¶æŒ™å‹•ãŒç¢ºèªã§ããŸ
TreeItemã‚ªãƒ–ã‚¸ã‚§ã‚¯ãƒˆã¯commandã‚’ãƒ•ã‚£ãƒ¼ãƒ«ãƒ‰ã«ä¿å­˜ã—ã¦ã„ã‚‹ãŒã€è‡ªã‚¯ãƒ©ã‚¹ã§ãƒ•ã‚£ãƒ¼ãƒ«ãƒ‰ã‚’æ“ä½œã—ã¦ã„ã‚‹å½¢è·¡ã¯ãªã„ ã¤ã¾ã‚Šã€vscodeæœ¬ä½“ã§TreeItem.commandã‚’å‘¼ã³å‡ºã—ã¦ã„ã‚‹ã¨è€ƒãˆã‚‰ã‚Œã‚‹
vscodeæœ¬ä½“ã‚’ã‚³ãƒ¼ãƒ‰ãƒªãƒ¼ãƒ‡ã‚£ãƒ³ã‚° TreeItemã®å®šç¾©ã¯ã“ã¡ã‚‰ commandè‡ªä½“ã¯å­˜åœ¨ã—ã¦ã„ã‚‹ ã‚ˆã£ã¦ã€vscodeæœ¬ä½“ã§TreeItem.commandã‚’å‘¼ã³å‡ºã™ä»®èª¬ã¯æ­£ã—ãã†
https://github.com/microsoft/vscode/blob/main/src/vs/vscode.d.ts#L9136
ã“ã®èª¬æ˜ã‚’è¦‹ã‚‹ã«ã€clickã‚’ãƒ•ãƒƒã‚¯ã—ã¦commandã‚’å‘¼ã‚“ã§ã„ã‚‹æ¨¡æ§˜ã€‚
async resolveTreeItem(treeItemHandle: string, token: vscode.CancellationToken): Promise&lt;ITreeItem | undefined> { if (!this.dataProvider.resolveTreeItem) { return; } const element = this.elements.get(treeItemHandle); if (element) { const node = this.nodes.get(element); if (node) { const resolve = await this.dataProvider.resolveTreeItem(node.extensionItem, element, token) ?? node.extensionItem; // Resolvable elements. Currently only tooltip and command. node.item.tooltip = this.getTooltip(resolve.tooltip); node.item.command = this.getCommand(node.disposableStore, resolve.command); return node.item; } } return; } https://github.com/microsoft/vscode/blob/8aff878db2542eea2dfb571c8bb485118bbb3113/src/vs/workbench/api/common/extHostTreeViews.ts#L376-L392
TreeItemã‚’å–å¾—ã™ã‚‹ã¨ãã«ã‚¯ãƒªãƒƒã‚¯ãƒãƒ³ãƒ‰ãƒ©ã‚’getCommandã§å–å¾—ã—ã¦ã„ãŸ</p></div><footer class=entry-footer><span title='2021-04-19 09:07:06 +0900 +0900'>April 19, 2021</span>&nbsp;Â·&nbsp;<span>1 min</span>&nbsp;Â·&nbsp;<span>motoki yoan</span></footer><a class=entry-link aria-label="post link to vscode extensionã®TreeViewã‚’è§¦ã£ã¦ã¿ã‚‹" href=https://myoan.github.io/posts/vscode-tree-view/></a></article><article class=post-entry><header class=entry-header><h2 class=entry-hint-parent>go getã§å–å¾—ã—ãŸã‚³ãƒãƒ³ãƒ‰ã®åå‰ã‚’å¤‰æ›´ã™ã‚‹</h2></header><div class=entry-content><p>yeomanã‚’å…¥ã‚Œã¦å®Ÿè¡Œã—ãŸã¨ã“ã‚ã‚¨ãƒ©ãƒ¼
â¯ yo code must specify 3 arguments ç¢ºèªã—ãŸã¨ã“ã‚spannerã®generatorã§ã‚ã‚‹yoãŒã™ã§ã«å…¥ã£ã¦ã„ã¾ã—ãŸâ€¦
â¯ yo help yo is a command-line tool to generate Go code for Google Cloud Spanner. (æ··ä¹±ã‚’é¿ã‘ã‚‹ãŸã‚ã€ä»¥é™ã§ã¯ã‚³ãƒ¼ãƒ‰ãƒ–ãƒ­ãƒƒã‚¯ä»¥å¤–yoã¯spannerã®ã‚³ãƒ¼ãƒ‰ã‚¸ã‚§ãƒãƒ¬ãƒ¼ãƒˆãƒ„ãƒ¼ãƒ«ã‚’æŒ‡ã—ã¾ã™)
ä¸¡æ–¹åˆ©ç”¨ã—ãŸã‹ã£ãŸã®ã§spanner generatorã®yoã‚’åˆ¥åã«æ›¸ãæ›ãˆã‚‹æ–¹é‡ã§æ±ºã‚ã¾ã—ãŸã€‚ ãã®åã‚‚goyoã§ã™(ãƒãƒãƒ¼ãƒ³)
æœ¬é¡Œ ã§ã¯ã©ã†ã‚„ã£ãŸã‚‰go getã§å–å¾—ã—ãŸã‚³ãƒãƒ³ãƒ‰åã‚’å¤‰ãˆã‚‰ã‚Œã‚‹ã®ã‹ï¼Ÿ
go getã®ã‚ªãƒ—ã‚·ãƒ§ãƒ³ã‚’æ¢ã—ã¾ã—ãŸãŒã‚ã‚Šã¾ã›ã‚“ã§ã—ãŸ
ãã“ã§ä»•æ–¹ãªãyoã®åå‰è‡ªä½“ã‚’å¤‰æ›´ã—ã¾ã™
yoã¯ãƒã‚¤ãƒŠãƒªãŒå…¥ã£ã¦ã„ã‚‹ã¨æ€ã£ãŸã‚‰ã‚·ã‚§ãƒ«ã‚¹ã‚¯ãƒªãƒ—ãƒˆã§ã—ãŸ (goenvã‚’ä½¿ã£ã¦ã„ã‚‹ã¨ãã†ãªã‚‹ï¼Ÿ)
â¯ file ~/.anyenv/envs/goenv/shims/yo /Users/motoki.yoan/.anyenv/envs/goenv/shims/yo: Bourne-Again shell script text executable, ASCII text â¯ cat ~/.anyenv/envs/goenv/shims/yo #!/usr/bin/env bash set -e [ -n "$GOENV_DEBUG" ] && set -x program="${0##*/}" if [[ "$program" = "go"* ]]; then for arg; do case "$arg" in -c* | -- ) break ;; */* ) if [ -f "$arg" ]; then export GOENV_FILE_ARG="$arg" break fi ;; esac done fi export GOENV_ROOT="/Users/me/.anyenv/envs/goenv" exec "/Users/me/.anyenv/envs/goenv/libexec/goenv" exec "$program" "$@" programãŒyoã‚’è¡¨ã—ã¦ã„ã‚‹ã‚ˆã†ã«è¦‹ãˆã¾ã™ãŒã€##*/ãŒæ„å‘³ä¸æ˜ã§ã™
...</p></div><footer class=entry-footer><span title='2021-02-06 16:25:03 +0900 +0900'>February 6, 2021</span>&nbsp;Â·&nbsp;<span>1 min</span>&nbsp;Â·&nbsp;<span>motoki yoan</span></footer><a class=entry-link aria-label="post link to go getã§å–å¾—ã—ãŸã‚³ãƒãƒ³ãƒ‰ã®åå‰ã‚’å¤‰æ›´ã™ã‚‹" href=https://myoan.github.io/posts/duplicate-command/></a></article><article class=post-entry><header class=entry-header><h2 class=entry-hint-parent>git restoreã£ã¦ãªã‚“ã </h2></header><div class=entry-content><p>ä¸é©åˆ‡ãªãƒ•ã‚¡ã‚¤ãƒ«ã‚’git addã—ã¦ã—ã¾ã„ã¾ã—ãŸ
weblog % git add content/posts/git-restore.md weblog % git status On branch main Your branch is up to date with 'origin/main'. Changes to be committed: (use "git restore --staged &lt;file>..." to unstage) new file: content/posts/git-restore.md ã“ã†ã„ã£ãŸå ´åˆ git reset &lt;FILE>ã‚’ä½¿ã£ã¦unstagedã«ã—ã¦ã„ã¾ã—ãŸ
ãŒã€ä¸Šã®ä¾‹ã«ã‚‚ã‚ã‚‹ã‘ã©ã€git restoreã‚’ä½¿ãˆã¨ã„ã†ã‚µã‚¸ã‚§ã‚¹ãƒˆãŒå‡ºã¦ã„ã¾ã™ ãã‚‚ãã‚‚æ°—ãŒã¤ã„ãŸã¨ãã®ãƒ­ã‚°ã«ã¯add/rmã®ã‚µã‚¸ã‚§ã‚¹ãƒˆã‚‚å‡ºã¦ã„ã¾ã™
Changes not staged for commit: (use "git add/rm &lt;file>..." to update what will be committed) (use "git restore &lt;file>..." to discard changes in working directory) git add/rm: commitã•ã‚ŒãŸå†…å®¹ã‚’æ›´æ–°ã™ã‚‹ git restore: working directoryã®å†…å®¹ã‚’ç ´æ£„ã™ã‚‹ ã¨ã„ã†é•ã„ãŒã‚ã‚‹ã‚ˆã†ã§ã™ ä»Šå›ã®ã‚ˆã†ã«é–“é•ã£ã¦addã—ã¦ã—ã¾ã£ãŸå ´åˆã¯ã€git restoreã®æ–¹ãŒæ­£ã—ãã†ã§ã™ã€‚ è©¦ã—ã¦ã¿ã¾ã™ã€‚
...</p></div><footer class=entry-footer><span title='2021-01-08 20:48:37 +0900 +0900'>January 8, 2021</span>&nbsp;Â·&nbsp;<span>1 min</span>&nbsp;Â·&nbsp;<span>motoki yoan</span></footer><a class=entry-link aria-label="post link to git restoreã£ã¦ãªã‚“ã " href=https://myoan.github.io/posts/git-restore/></a></article><footer class=page-footer><nav class=pagination><a class=next href=https://myoan.github.io/page/2/>Next&nbsp;&nbsp;Â»</a></nav></footer></main><footer class=footer><span>&copy; 2025 <a href=https://myoan.github.io/>yoan.log</a></span> Â·
<span>Powered by
<a href=https://gohugo.io/ rel="noopener noreferrer" target=_blank>Hugo</a> &
<a href=https://github.com/adityatelange/hugo-PaperMod/ rel=noopener target=_blank>PaperMod</a></span></footer><a href=#top aria-label="go to top" title="Go to Top (Alt + G)" class=top-link id=top-link accesskey=g><svg viewBox="0 0 12 6" fill="currentColor"><path d="M12 6H0l6-6z"/></svg>
</a><script>let menu=document.getElementById("menu");if(menu){const e=localStorage.getItem("menu-scroll-position");e&&(menu.scrollLeft=parseInt(e,10)),menu.onscroll=function(){localStorage.setItem("menu-scroll-position",menu.scrollLeft)}}document.querySelectorAll('a[href^="#"]').forEach(e=>{e.addEventListener("click",function(e){e.preventDefault();var t=this.getAttribute("href").substr(1);window.matchMedia("(prefers-reduced-motion: reduce)").matches?document.querySelector(`[id='${decodeURIComponent(t)}']`).scrollIntoView():document.querySelector(`[id='${decodeURIComponent(t)}']`).scrollIntoView({behavior:"smooth"}),t==="top"?history.replaceState(null,null," "):history.pushState(null,null,`#${t}`)})})</script><script>var mybutton=document.getElementById("top-link");window.onscroll=function(){document.body.scrollTop>800||document.documentElement.scrollTop>800?(mybutton.style.visibility="visible",mybutton.style.opacity="1"):(mybutton.style.visibility="hidden",mybutton.style.opacity="0")}</script><script>document.getElementById("theme-toggle").addEventListener("click",()=>{const e=document.querySelector("html");e.dataset.theme==="dark"?(e.dataset.theme="light",localStorage.setItem("pref-theme","light")):(e.dataset.theme="dark",localStorage.setItem("pref-theme","dark"))})</script></body></html>